import{u as B,_ as L}from"./TanChu-C3Biuolk.js";import{_ as N,s as j,r as n,j as q,c as l,e as o,b as s,d as I,t as i,a as c,w as M,F as R,k as T,D as U,o as d,i as x,p as Y,h as $,I as b,v as z}from"./index-WWJJeb02.js";import{y as E}from"./yingyuan-BKTncc5a.js";/* empty css              */import"./request-D79iTt0s.js";const f=u=>(Y("data-v-e7f05550"),u=u(),$(),u),G={class:"yingyuan"},H={class:"top"},J={class:"title"},K=f(()=>o("i",{class:"iconfont icon-sanjiaoxing"},null,-1)),O=f(()=>o("span",null,"影院",-1)),Q=["onClick"],W={class:"left"},X={class:"ellipsisA"},Z={class:"right"},ee={key:0},oe=f(()=>o("i",null,"￥",-1)),te={key:1},se={__name:"yingyuan",setup(u){let p=B(),h=j(),g=n([]),r=n(1),_=n(1),w=n([{text:"最近去过",value:1},{text:"离我最近",value:2}]),V=n([{text:"APP订票",value:1},{text:"前台兑换",value:2}]),y=n({cityId:p.cityId,ticketFlag:1});async function m(){let t=await E(y.value);g.value=t.data.cinemas}async function F(t){y.value.ticketFlag=t,m()}let v=n();function S(){y.value.cityId=p.cityId,window.scrollTo(0,0),m()}function C(t){t.lowPrice===0?h.push(`/duihuan/${t.cinemaId}`):h.push(`/yyxq/${t.cinemaId}`)}return q(()=>{m()}),(t,a)=>{const P=b,k=z,A=U,D=L;return d(),l("div",G,[o("div",H,[o("div",J,[o("span",{onClick:a[0]||(a[0]=(...e)=>s(v).open&&s(v).open(...e))},[I(i(s(p).city||"邯郸")+" ",1),K]),O,o("span",null,[c(P,{class:"search-icon",size:"18",name:"search"})])]),c(A,null,{default:M(()=>[c(k,{onChange:F,modelValue:s(r),"onUpdate:modelValue":a[1]||(a[1]=e=>x(r)?r.value=e:r=e),options:s(V)},null,8,["modelValue","options"]),c(k,{options:s(w),modelValue:s(_),"onUpdate:modelValue":a[2]||(a[2]=e=>x(_)?_.value=e:_=e)},null,8,["options","modelValue"])]),_:1})]),(d(!0),l(R,null,T(s(g),e=>(d(),l("div",{class:"item",key:e.cinemaId,onClick:ne=>C(e)},[o("div",W,[o("p",null,i(e.name),1),o("p",X,i(e.address),1)]),o("div",Z,[!e.lowPrice==0?(d(),l("p",ee,[oe,I(i(parseFloat(e.lowPrice/100).toFixed(1)),1)])):(d(),l("p",te)),o("p",null,i(parseFloat(e.Distance*100).toFixed(2))+"km",1)])],8,Q))),128)),c(D,{ref_key:"kai",ref:v,onSuccess:S},null,512)])}}},ue=N(se,[["__scopeId","data-v-e7f05550"]]);export{ue as default};
